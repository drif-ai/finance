# Enable rewrite engine
RewriteEngine On

# Base directory for the app
RewriteBase /finance/

# Allow direct access to existing files and folders
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Allow static assets
RewriteRule ^(.*\.(js|css|png|jpg|jpeg|gif|svg|ico|json|txt|map|webp|woff|woff2))$ $1 [L]

# Redirect all routes to the SPA entry point
RewriteRule ^ /finance/index.html [L]

# Ensure service worker is accessible from the correct scope
RewriteRule ^service-worker\.js$ /finance/service-worker.js [L]
